{"version":3,"sources":["helpers/api.ts","App.tsx","index.tsx"],"names":["getAll","url","fetch","then","response","json","App","useState","posts","setPosts","isLoading","setIsLoading","handleLoadClick","a","postsFromServer","usersFromServer","commentsFromServer","postsWithComments","map","item","user","find","person","id","userId","comments","filter","comment","postId","className","length","post","title","body","name","email","address","suite","street","city","c","key","type","onClick","disabled","ReactDOM","render","document","getElementById"],"mappings":"sPA8BMA,G,MAAS,SAAIC,GACjB,OAAOC,MA/BO,wCA+BSD,GACpBE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,YCqDhBC,EAzEO,WAAO,IAAD,EACAC,mBAAiB,IADjB,mBACnBC,EADmB,KACZC,EADY,OAEQF,oBAAS,GAFjB,mBAEnBG,EAFmB,KAERC,EAFQ,KAIpBC,EAAe,uCAAG,kCAAAC,EAAA,6DACtBF,GAAa,GADS,SDmBIX,EAAa,SCnBjB,cAGhBc,EAHgB,gBDqBId,EAAa,SCrBjB,cAIhBe,EAJgB,gBDuBOf,EAAgB,YCvBvB,OAKhBgB,EALgB,OAOhBC,EAAoBH,EAAgBI,KAAI,SAAAC,GAAI,kCAE3CA,GAF2C,IAG9CC,KAAML,EAAgBM,MAAK,SAAAC,GAAM,OAAKA,EAAOC,KAAOJ,EAAKK,UACzDC,SAAUT,EAAmBU,QAAO,SAAAC,GAAO,OAAIA,EAAQC,SAAWT,EAAKI,WAI3Ed,EAASQ,GAfa,4CAAH,qDAkBrB,OACE,yBAAKY,UAAU,OACb,wBAAIA,UAAU,SAAd,yBACErB,EAAMsB,OAKN,oCACE,wBAAID,UAAU,aACXrB,EAAMU,KAAI,SAAAa,GAAI,uBACb,wBAAIF,UAAU,aACZ,4BAAKE,EAAKC,OACV,2BAAID,EAAKE,MACT,6BACE,sCACA,uBAAGJ,UAAU,cAAb,UAA2BE,EAAKX,YAAhC,aAA2B,EAAWc,MACtC,6BACE,0BAAML,UAAU,aAAhB,gBADF,UAEGE,EAAKX,YAFR,aAEG,EAAWe,OAEd,iCACE,0BAAMN,UAAU,aAAhB,kBADF,oBAGOE,EAAKX,YAHZ,aAGO,EAAWgB,QAAQC,MAH1B,0CAIEN,EAAKX,YAJP,aAIE,EAAWgB,QAAQE,OAJrB,0CAKEP,EAAKX,YALP,aAKE,EAAWgB,QAAQG,QAIvB,2BACE,0BAAMV,UAAU,qBAAhB,cADF,UAEGE,EAAKN,gBAFR,aAEG,EAAeP,KAAI,SAAAsB,GAAC,OACnB,6BAASX,UAAU,gBAAgBY,IAAKD,EAAEjB,IACxC,yBAAKM,UAAU,YACb,uBAAGA,UAAU,aAAaW,EAAEN,MAC5B,2BAAIM,EAAEP,MACN,uBAAGJ,UAAU,SAASW,EAAEL,mBAjCxC,4BAAQN,UAAU,eAAea,KAAK,SAASC,QAAS/B,EAAiBgC,SAAUlC,GAChFA,EAAY,aAAe,UClCtCmC,IAASC,OACP,kBAAC,EAAD,MACAC,SAASC,eAAe,U","file":"static/js/main.22a13c74.chunk.js","sourcesContent":["const API_URL = 'https://jsonplaceholder.typicode.com/';\n\nexport interface Post {\n  userId: number;\n  id: number;\n  title: string;\n  body: string;\n  user?: User;\n  comments?: Comment[];\n}\n\nexport interface User {\n  id: number;\n  name: string;\n  email: string;\n  address: {\n    suite: string;\n    street: string;\n    city: string;\n  };\n}\n\nexport interface Comment {\n  postId: number;\n  id: number;\n  name: string;\n  email: string;\n  body: string;\n}\n\nconst getAll = <T>(url: string): Promise<T[]> => {\n  return fetch(API_URL + url)\n    .then(response => response.json());\n};\n\nexport const getPosts = () => getAll<Post>('posts');\n\nexport const getUsers = () => getAll<User>('users');\n\nexport const getComments = () => getAll<Comment>('comments');\n","import React, { useState } from 'react';\nimport './App.css';\n\nimport\n{\n  getPosts,\n  getUsers,\n  getComments,\n  Post,\n}\n  from './helpers/api';\n\nconst App: React.FC = () => {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleLoadClick = async () => {\n    setIsLoading(true);\n\n    const postsFromServer = await getPosts();\n    const usersFromServer = await getUsers();\n    const commentsFromServer = await getComments();\n\n    const postsWithComments = postsFromServer.map(item => (\n      {\n        ...item,\n        user: usersFromServer.find(person => (person.id === item.userId)),\n        comments: commentsFromServer.filter(comment => comment.postId === item.id),\n      }\n    ));\n\n    setPosts(postsWithComments);\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"title\">Dynamic list of posts</h1>\n      {!posts.length ? (\n        <button className=\"btn load-btn\" type=\"button\" onClick={handleLoadClick} disabled={isLoading}>\n          {isLoading ? 'Loading...' : 'Load'}\n        </button>\n      ) : (\n        <>\n          <ul className=\"post-list\">\n            {posts.map(post => (\n              <li className=\"post-card\">\n                <h2>{post.title}</h2>\n                <p>{post.body}</p>\n                <div>\n                  <h3>User: </h3>\n                  <p className=\"user__name\">{post.user?.name}</p>\n                  <div>\n                    <span className=\"bold-font\">User-email: </span>\n                    {post.user?.email}\n                  </div>\n                  <address>\n                    <span className=\"bold-font\">User-address: </span>\n                    {\n                      `${post.user?.address.suite},\n                  ${post.user?.address.street},\n                  ${post.user?.address.city}`\n                    }\n                  </address>\n                </div>\n                <p>\n                  <span className=\"comments__heading\">Comments: </span>\n                  {post.comments?.map(c => (\n                    <section className=\"post__comment\" key={c.id}>\n                      <div className=\"comments\">\n                        <p className=\"bold-font\">{c.name}</p>\n                        <p>{c.body}</p>\n                        <p className=\"email\">{c.email}</p>\n                      </div>\n                    </section>\n                  ))}\n                </p>\n              </li>\n            ))}\n          </ul>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}